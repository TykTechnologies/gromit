name: Api Tests

on:
  workflow_call:

jobs:
{{ $test := "api" }}
  test-controller-{{ $test }}:
    runs-on: ubuntu-latest
{{ template "test-controller" (dict "test" $test) }}
  api-tests:
    runs-on: ubuntu-latest
    {{ template "tests" (dict "test" $test "repo" .Name) }}